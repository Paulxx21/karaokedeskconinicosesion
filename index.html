<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selecciona las canciones y subí a cantar</title>
    <style>
        /* Tu estilo existente */
        .qr-container {
            text-align: center;
            margin-top: 20px;
        }
        .qr-code {
            margin-top: 10px;
        }
        .qr-link {
            display: block;
            margin-top: 10px;
            color: #1DB954;
            text-decoration: none;
        }
        .qr-link:hover {
            color: #1ed760;
        }
    </style>
</head>
<body>
    <!-- Tu HTML existente -->
    <div class="qr-container">
        <button class="action" onclick="generateQRCode()">Generar Código QR</button>
        <div id="qrCode" class="qr-code"></div>
        <a id="qrLink" class="qr-link" href="#" target="_blank">Enlace a la página</a>
    </div>

    <script src="qrcode.min.js"></script>
    <script>
        function generateQRCode() {
            var qrContainer = document.getElementById('qrCode');
            qrContainer.innerHTML = ''; // Clear previous QR code

            var qrLink = document.getElementById('qrLink');
            var pageUrl = window.location.href.split('?')[0] + '?view=public';

            new QRCode(qrContainer, {
                text: pageUrl,
                width: 128,
                height: 128,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });

            qrLink.href = pageUrl;
            qrLink.textContent = "Enlace a la página";
        }

        function updateQRCodeAndLink() {
            generateQRCode();
        }

        function addArtist() {
            // Tu función existente para agregar artistas
            // Llama a updateQRCodeAndLink() después de agregar un nuevo artista
            updateQRCodeAndLink();
        }

        function removeArtist() {
            // Tu función existente para eliminar artistas
            // Llama a updateQRCodeAndLink() después de eliminar un artista
            updateQRCodeAndLink();
        }
    </script>
</body>
</html>
